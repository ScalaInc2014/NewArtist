{"filter":false,"title":"index.js","tooltip":"/routes/index.js","undoManager":{"mark":11,"position":11,"stack":[[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":59,"column":0},"action":"remove","lines":["var express = require('express');","var router = express.Router();","var authentication = require('../Authentication');","","var authenticationRoutes = function(){","\t","\t//Login page","\trouter.get('/login/', function(req, res) {","    \t// Display the Login page with any flash message, if any","\t\tres.render('login',{ errorMessage : req.flash('error') });","\t});","\t","\t// POST Fan Login","\trouter.post('/login/manual/fan', authentication.logUser('fan','manual'));\t","","\t// POST Artists Login","\trouter.post('/login/manual/artist', authentication.logUser('artist','manual'));","","\t//Logout  page","\trouter.get('/logout/', authentication.logout);","","","\t//Page for Fan signup","\trouter.get('/signup/fan', function(req, res){","\t\tres.render('fan_signup',{ errorMessage : req.flash('error') });","\t});","","\t//Page for Artist signup","\trouter.get('/signup/artist', function(req, res){","\t\tres.render('artist_signup',{ errorMessage : req.flash('error') });","\t});","","\t//POST Fan signup data","\trouter.post('/signup/manual/fan', authentication.registerUser('fan', 'manual'));","\t","\t//POST Artist signup data","\trouter.post('/signup/manual/artist', authentication.registerUser('artist', 'manual'));\t","\t","\t","\t/* Get Mail Verification */","\trouter.get('/signup/mail_verification', function(req, res){","\t\tres.render('mail_verification',{ errorMessage : req.flash('error') });","\t});","","\t/* Get Mail Confirmation from Fans */","\trouter.get('/signup/confirmation/fan/:user_id', authentication.verifyEmail('fan'));","","\t/* Get Mail Confirmation from Artists */","\trouter.get('/signup/confirmation/artist/:user_id', authentication.verifyEmail('artist'));","","\t/* Get Error Authentication */","\trouter.get('/signup/verificationError', function(req, res){","\t\tres.render('verificationError',{ errorMessage : req.flash('error') });","\t});","","\treturn router;","};","","module.exports = authenticationRoutes;",""]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":13,"column":0},"action":"insert","lines":["var express = require('express');","var router = express.Router();","var authentication = require('./Authentication');","","var router = function(server){","","\tserver.use('/authentication/signin',authentication.signin());","\tserver.use('/authentication/signup',authentication.signup());","\tserver.use('/authentication/signout',authentication.signout());\t","}","","module.exports = router;","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":9},"end":{"row":4,"column":10},"action":"remove","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":4,"column":9},"end":{"row":4,"column":10},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":22},"end":{"row":11,"column":23},"action":"remove","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":22},"end":{"row":11,"column":23},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":0},"end":{"row":1,"column":30},"action":"remove","lines":["var router = express.Router();"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":33},"end":{"row":1,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":1},"end":{"row":8,"column":2},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":0,"column":33},"action":"remove","lines":["var express = require('express');"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":1,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":0},"end":{"row":12,"column":0},"action":"insert","lines":["",""]}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":12,"column":0},"end":{"row":12,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":15,"mode":"ace/mode/javascript"}},"timestamp":1430428713863,"hash":"29259167249791aa431447c53fb4549fe662c038"}